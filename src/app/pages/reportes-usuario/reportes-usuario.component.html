<div *ngIf="usuario" class="container mt-4">

    <div class="row mb-5">
        <div class="col-sm-7 col-12">
            <span class="titulo-1">Reportes de {{usuario.nombre}}</span>
        </div>
        <div class="col-sm-5 col-12 text-end">
            <!-- TODO Descarga múltiple -->
            <button class="common-bttn" (click)="descargarTodo()">Descargar todos</button>
        </div>
    </div>
    
    <div class="shadow-lg p-3 mb-5 bg-white rounded text-center">
        <div class="row mt-3 mb-5 mx-2">
            <div class="col-2">
                <h4>Año</h4>
            </div>
            <div class="col-3">
                <h4>Última modificación</h4>
            </div>
            <div class="col-3">
                <h4>Municipalidad</h4>
            </div>
            <div class="col-2">
                <h4>Estado</h4>
            </div>
            <div class="col-2">
                <h4>Acciones</h4>
            </div>

        </div>
        <div *ngFor="let reporte of reportes" class="row item-card text-center">
            <div class="col-2 content-text column">
                <h5 class="content-text">{{reporte.anno}}</h5>
            </div>
            <div class="col-3 content-text column">
                <h5 class="content-text">{{reporte.fechaModificacion | date:"MMM, d, y, h:mm:ss"}}</h5>
            </div>
            <div class="col-3 content-text column">
                <h5 class="content-text">{{reporte.datosGenerales.municipalidad}}</h5>
            </div>
            <div class="col-2 content-text column">
                <h5 class="content-text">{{reporte.estado ? reporte.estado : "???"}}</h5>
            </div>
            <div class="col-1 content-text column">
                <i class="clickeable fa-solid fa-pen-to-square fa-lg" [routerLink]="['/formulario/' + reporte.$key]"></i>
            </div>
            <div class="col-1 content-text column">
                <i class="clickeable fas fa-arrow-alt-circle-down fa-lg" (click)="sendReportToService(reporte)"></i>
            </div>
        </div>
    </div>

</div>
